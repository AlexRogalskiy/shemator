!function(e){function t(t){for(var n,a,c=t[0],s=t[1],_=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);d.length;)d.shift()();return r.push.apply(r,_||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,c=1;c<o.length;c++){var s=o[c];0!==i[s]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},i={"web/public":0},r=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.e=function(){return Promise.resolve()},a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/js/cmodules/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var _=0;_<c.length;_++)t(c[_]);var u=s;r.push([270,"audioplayer","common","palette","d197914c22b46a78704724ab949103c6","0d90aea2e9b9b0b9c1e7702cd418715e","9978013630b196e8f4269b3c84cf49a1","8edf2c454185247a33196226fe6ce370"]),o()}({270:function(e,t,o){e.exports=o("lA5T")},"3xsS":function(e,t,o){"use strict";o.r(t),o.d(t,"onGroupLeaveDonutConfirmation",(function(){return s})),o.d(t,"donutDebugGroupActions",(function(){return l})),o.d(t,"initGroupMenuDonut",(function(){return h}));var n=o("EasH"),i=o("4+be"),r=o("t7n3"),a=o("v+DW"),c=o("zxIV"),s=function(e,t,o,s){var _,u,l,d=Object(r.getTemplate)("groupLeaveConfirmationKeptSubscription"),p=Object(n.showFastBox)({title:Object(i.getLang)("global_warning")},d,Object(i.getLang)("group_leave_group"),(function(){var n,i=null===(n=p.bodyNode)||void 0===n?void 0:n.querySelector('[data-section-ref="donut_keep_subscription"]'),r=!(!i||Object(a.isChecked)(i))||void 0;e.leave(t,o,s,void 0,void 0,{donut_cancel_subscription:r}),p.hide()}),Object(i.getLang)("global_cancel")),b=null===(_=p.bodyNode)||void 0===_?void 0:_.querySelector('[data-section-ref="donut_keep_subscription"]'),g=null===(u=p.bodyNode)||void 0===u?void 0:u.querySelector('[data-section-ref="donut_cancellation_warning"]'),f=function(){Object(c.toggle)(g,!Object(a.isChecked)(b))};null===(l=null==b?void 0:b.addEventListener)||void 0===l||l.call(b,"click",(function(e){var t=e.target;Object(a.checkbox)(t),f()})),f()},_=o("Egk5"),u=o("3oLO"),l={toggleDntrStatus:function(e,t,o,n){var i,r,a,c,s,l;u.ajax.post("al_groups.php",{act:"a_toggle_dntr_status",status:o?1:0,oid:window.cur.oid,hash:t},{onDone:function(){window.nav.reload()},showProgress:null===(a=null===(r=null===(i=window.Page)||void 0===i?void 0:i.actionsDropdownLock)||void 0===r?void 0:r.pbind)||void 0===a?void 0:a.call(r,e),hideProgress:null===(l=null===(s=null===(c=window.Page)||void 0===c?void 0:c.actionsDropdownUnlock)||void 0===s?void 0:s.pbind)||void 0===l?void 0:l.call(s,e)}),Object(_.cancelEvent)(n)},donutResetSubscription:function(e,t,o){var n,i,r,a,c,s;u.ajax.post("al_groups.php",{act:"a_donut_reset_subscription",owner_id:window.cur.oid,hash:t},{onDone:function(){window.nav.reload()},showProgress:null===(r=null===(i=null===(n=window.Page)||void 0===n?void 0:n.actionsDropdownLock)||void 0===i?void 0:i.pbind)||void 0===r?void 0:r.call(i,e),hideProgress:null===(s=null===(c=null===(a=window.Page)||void 0===a?void 0:a.actionsDropdownUnlock)||void 0===c?void 0:c.pbind)||void 0===s?void 0:s.call(c,e)}),Object(_.cancelEvent)(o)},donutForcePayment:function(e,t,o){var n,i,r,a,c,s;u.ajax.post("al_groups.php",{act:"a_donut_force_payment",owner_id:window.cur.oid,hash:t},{onDone:function(){window.nav.reload()},showProgress:null===(r=null===(i=null===(n=window.Page)||void 0===n?void 0:n.actionsDropdownLock)||void 0===i?void 0:i.pbind)||void 0===r?void 0:r.call(i,e),hideProgress:null===(s=null===(c=null===(a=window.Page)||void 0===a?void 0:a.actionsDropdownUnlock)||void 0===c?void 0:c.pbind)||void 0===s?void 0:s.call(c,e)}),Object(_.cancelEvent)(o)}},d=o("BTjd"),p=o("aYHU"),b=o("vkK6"),g=function(){return(g=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=function(e){var t,o=e.target;if(Object(_.checkEvent)(e)||!(o instanceof HTMLElement))return!1;var s=null===(t=Object(b.getActionData)(o))||void 0===t?void 0:t.actionParams;if(s)var u=Object(r.getTemplate)("groupCancelSubscriptionBox"),l=Object(n.showFastBox)({title:Object(i.getLang)("groups_donut_cancel_subscription_dialog_title")},u,Object(i.getLang)("groups_donut_cancel_subscription_dialog_button_confirm"),(function(){var e,t,o;e=l.bodyNode,Object(c.hide)(e.querySelector('[data-section-ref="donut-cancel-subscription-error"]')),(t=s,o={showProgress:a.lockButton.bind(null,l.btns.ok[0]),hideProgress:a.unlockButton.bind(null,l.btns.ok[0])},Object(p.ajaxPostP)("/al_groups.php",g({act:"a_donut_cancel_subscription"},t),o)).then((function(){l.hide(),window.nav.reload()}),(function(e){!function(e,t){var o=e.querySelector('[data-section-ref="donut-cancel-subscription-error"]'),n=null==o?void 0:o.querySelector(".msg_text");o&&n&&t&&(n.innerHTML=t,Object(c.show)(o))}(l.bodyNode,function(e){return"string"==typeof(null==e?void 0:e.message)?null==e?void 0:e.message:"string"==typeof e?e:Object(i.getLang)("global_error_occured")}(e))}))}),Object(i.getLang)("groups_donut_cancel_subscription_dialog_button_discard"))},h=function(e){var t,o=null===(t=e.container)||void 0===t?void 0:t.parentElement;return o?Object(d.default)(o,'[data-onclick="showDonutUnsubBox"]',"click",f).destroy:function(){}}},BTjd:function(e,t,o){"use strict";o.r(t);const n=new WeakMap;function i(e,t,o,i){var r,a;if(!e&&!n.has(t))return!1;const c=null!==(r=n.get(t))&&void 0!==r?r:new WeakMap;if(n.set(t,c),!e&&!n.has(t))return!1;const s=null!==(a=c.get(o))&&void 0!==a?a:new Set;c.set(o,s);const _=s.has(i);return e?s.add(i):s.delete(i),_&&e}t.default=function e(t,o,n,r,a){if("string"==typeof t&&(t=document.querySelectorAll(t)),"function"!=typeof t.addEventListener){const i=Array.prototype.map.call(t,t=>e(t,o,n,r,a));return{destroy(){i.forEach(e=>e.destroy())}}}const c=t,s=Boolean("object"==typeof a?a.capture:a),_=e=>{const t=e.target.closest(o);t&&(e.delegateTarget=t,e.currentTarget.contains(e.delegateTarget)&&r.call(c,e))},u=JSON.stringify({selector:o,type:n,capture:s}),l={destroy(){c.removeEventListener(n,_,a),i(!1,c,r,u)}};return i(!0,c,r,u)||c.addEventListener(n,_,a),l}},CQka:function(e,t,o){"use strict";o.r(t),o.d(t,"initGroupLinksTracking",(function(){return a})),o.d(t,"trackGroupLink",(function(){return c})),o.d(t,"getGroupsTrackCodeAttr",(function(){return s}));o("rGqo"),o("Btvt");var n=o("Egk5"),i=o("zxIV"),r=o("v+DW");function a(){setTimeout((function(){var e=Object(i.domQuery)("a[data-group-track-type='link']",ge("page_body"));Object.keys(e).forEach(t=>{var o=e[t];Object(n.addEvent)(o,"click",c),cur.destroy.push(n.removeEvent.pbind(o,"click"))})}),3e3)}function c(e){var t=e.target;if(!t)return!0;if(Object(r.linkLocked)(t))return!0;var o=Object(i.domData)(t,"group-track-code"),n=Object(i.domData)(t,"group-track-type");if(!o||!n)return!0;var a={act:"track",group_id:-cur.oid,track_code:o,type:n};return ajax.post("al_groups.php",a,{onDone:function(){Object(r.unlockLink)(t)}}),!0}function s(e){return Object(i.domData)(e,"trackcode")}},FkYl:function(e,t,o){"use strict";o.r(t),o.d(t,"initPageActionsMenu",(function(){return p}));var n=o("3xsS"),i=o("BTjd"),r=o("3oLO"),a=o("4+be"),c=o("k487"),s="on",_="group_friends_wrap",u="page_action_menu_groups",l="page_menu_group_like",d=function(){var e,t,o=document.querySelector("."+u);if(o){var n,d=o.querySelector("."+l),p=null==d?void 0:d.dataset.tooltip_text;if(d&&p){var b={act:"help_hints_hide",hint_id:d.dataset.tooltip_id,hash:d.dataset.tooltip_hash};n=new c.default(d,{content:p,forceSide:"left",withCloseButton:!0,appendTo:o,autoShow:!1,noAutoHideOnWindowClick:!0,noHideOnClick:!0,width:200,offset:[30,0],cls:"feature_intro_tt",onCloseButtonClick:function(){return r.ajax.post("al_index.php",b)}});var g=new IntersectionObserver((function(e,t){e.every((function(e){return e.isIntersecting}))&&(null==n||n.show(),t.disconnect())}),{threshold:1});g.observe(d),null===(e=window.cur.destroy)||void 0===e||e.push((function(){return g.disconnect()}))}var f=Object(i.default)(o,"."+l,"click",function(e){return function(t){var o,n=t.target;if(n instanceof HTMLElement&&(null===(o=null==e?void 0:e._closeButton)||void 0===o||o.click(),!Boolean(null===window||void 0===window?void 0:window.Page.actionsDropdownLocked(n)))){var i=n.classList.contains(s),c={act:"group_like_toggle",group_id:n.dataset.group_id,hash:n.dataset.hash,is_like:Number(!i)};r.ajax.post("al_groups.php",c,{onDone:function(e){i?(n.innerHTML=Object(a.getLang)("groups_action_menu_recommend"),n.classList.remove(s)):(n.innerHTML=Object(a.getLang)("groups_action_menu_you_recommend"),n.classList.add(s));var t=document.querySelector(".groups_friends_likes"),o=null==t?void 0:t.closest("."+_);o&&t&&e&&(o.innerHTML=e)},showProgress:function(){return null===window||void 0===window?void 0:window.Page.actionsDropdownLock(n)},hideProgress:function(){return null===window||void 0===window?void 0:window.Page.actionsDropdownUnlock(n)}})}}}(n)).destroy;null===(t=window.cur.destroy)||void 0===t||t.push(f)}},p=function(){var e,t={container:document.querySelector("._page_actions_container")},o=Object(n.initGroupMenuDonut)(t);null===(e=window.cur.destroy)||void 0===e||e.push(o),d()}},X3vJ:function(e,t,o){"use strict";o.r(t),o.d(t,"initGroupsMenu",(function(){return p}));o("HEwt"),o("a1Th"),o("Btvt"),o("rGqo"),o("rE2o"),o("ioFf"),o("KKXr");var n=o("D1OX"),i=o("Egk5"),r=o("XzvV"),a=o("zxIV"),c=o("/PiP"),s=o("Ia1d"),_=o("pp2G"),u=o("XuKo");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function p(e){window.onDomReady((function(){var t=ge("group_section_menu_gallery");if(t){var o=Object(a.geByClass)("ui_gallery_item",t),d={markOutside:!0};(!o||o.length<4)&&(d.scrollX=!1,d.scrollY=!1),Object(a.domQuery1)(".ui_gallery_item ._transparent",t)&&(d.scrollX=!1,d.scrollY=!1);var p=new n.UIGallery(t,d);(p?p.getItems():[]).forEach(t=>{var o=t.firstElementChild;if(o&&(Object(i.addEvent)(o,"click",t=>{var n=o.getAttribute("data-hash"),a=Number(o.getAttribute("data-id")),d=Number(o.getAttribute("data-type")),p=Number(o.getAttribute("data-pos")),b=o.getAttribute("data-object-id");if(n&&a&&d&&b&&(Object(r.statlogsValueEvent)("groups_menu_item_click",n,e,a,d,p),!Object(i.checkEvent)(t))){var g=null;switch(d){case 1:var f={w:"wall"+b};(g=o.getAttribute("data-click")?JSON.parse(o.getAttribute("data-click")):{}).reply&&(f.reply=g.reply),Object(c.showWiki)(f,!1,t);break;case 5:Object(s.showVideo)(""+b,"",{autoplay:1},t);break;case 16:-1===b.indexOf("_")?nav.change({z:"tag"+b},t):nav.change({z:"album"+b},t);break;case 4:Object(c.showPhoto)(""+b,"",{},t);break;case 3:Object(c.showWiki)({w:"product"+b,from:"group_module"},!1,t,{queue:1});break;case 8:case 17:g=o.getAttribute("data-click")?JSON.parse(o.getAttribute("data-click")):{};var h=l(b.split("_"),2),w=h[0],v=h[1],O=g.access_hash;_.AudioUtils.showAudioPlaylist(w,v,O,void 0,t);break;case 10:var k=l(b.split("_"),2),m=k[0],P=k[1],E=o.getAttribute("href"),y=new URLSearchParams(E).get("ref"),M={};if(y&&(M.app_ref=y),6441755===Number(m))window.Groups.inviteToChat(-Number(P));else{if((g=o.getAttribute("data-click")?JSON.parse(o.getAttribute("data-click")):{})&&g.forward){var j=g.forward.split("#");j=j?j[1]?j[1]:j[0]:"",M.w=`app${b}#${j}`}else M.w="app"+b;if(!g.show_wiki)return!0;Object(c.showWiki)(M)}break;case 25:Object(c.showPodcast)(null,b);break;case 26:var D=l(b.split("_"),2),L=D[0],C=D[1];Object(u.showNarrative)(L,C);break;default:return}Object(i.cancelEvent)(t)}}),10===Number(o.getAttribute("data-type")))){var n=l(o.getAttribute("data-object-id").split("_"),1)[0];6441755===Number(n)&&Object(i.addEvent)(o,"mouseover",()=>{window.Groups.inviteToChatPreload()})}})}}))}},aYHU:function(e,t,o){"use strict";o.r(t),o.d(t,"ajaxPostP",(function(){return r}));var n=o("3oLO"),i=function(){return(i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=function(e,t,o){return void 0===t&&(t={}),void 0===o&&(o={}),new Promise((function(r,a){n.ajax.post(e,t,i(i({},o),{onDone:function(e){r(e)},onFail:function(e){return a(e),!0}}))}))}},gVOz:function(e,t,o){"use strict";o.r(t),o.d(t,"WarningNotification",(function(){return u})),o.d(t,"default",(function(){return l}));o("91GP");var n=o("q1tI"),i=(o("17x9"),o("dV62")),r=o("BiHW"),a=o("kHqu"),c=o("WfnU"),s=o("6krn");function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}class u extends n.Component{constructor(e){super(e),this.clickProceed=()=>{this.sendViewSignal(),this.props.onClose()},this.clickBack=()=>{this.setState({isLoading:!0}),window.history.length>1?window.history.back():window.nav.go("/")},this.state={isLoading:!1}}sendViewSignal(){var e=this.props,t={act:"hide_warning_notification",notification_id:e.notification_id,group_id:e.group_id,user_id:e.user_id,hash:e.hash};ajax.post("al_groups.php",t,{})}renderImage(){var e="/images/groups/warning_notification";return n.createElement("img",{alt:Object(s.getLang)("groups_warning_notification_web_img_alt"),src:e+".png",srcSet:e+"_2x.png 2x",className:"WarningNotification__image"})}render(){var e=this.props,t=this.state,o=this.renderImage();return n.createElement("div",{className:"WarningNotification__box"},n.createElement("div",{className:"WarningNotification__image-container"},o),n.createElement("div",{className:"WarningNotification__title WarningNotification__component--centered",dangerouslySetInnerHTML:{__html:e.title_html}}),n.createElement("div",{className:"WarningNotification__text WarningNotification__component--centered",dangerouslySetInnerHTML:{__html:e.text_html}}),n.createElement(c.default,{loading:t.isLoading,onClick:this.clickBack,className:"WarningNotification__button WarningNotification__button--back WarningNotification__component--centered"},Object(s.getLang)("global_back")),n.createElement(r.default,{onClick:this.clickProceed,appearance:"link",className:"WarningNotification__button WarningNotification__button--proceed WarningNotification__component--centered"},Object(s.getLang)("groups_warning_notification_proceed")))}}function l(e){var t=()=>{l(e)};cur._back.show.push(t),cur._back.onArticleNavBack=t;var o=()=>{Object(i.destroyComponentInBox)(!0)};cur.zNavInfo&&(o=()=>{Object(i.destroyComponentInBox)(!0),Object(a.zNav)(cur.zNavInfo.info,cur.zNavInfo.opts)});var r={containerClass:"WarningNotification",width:655,height:538,onHideAttempt:e=>Boolean(e)};Object(i.showComponentInBox)(n.createElement(u,_({onClose:o},e)),r)}},lA5T:function(e,t,o){"use strict";o.r(t);var n=o("xmNA");window.public=n.Public,window.Public=n.Public,window.showMapBox=n.Public.showMapBox,window.replaceChars=n.replaceChars;try{window.stManager.done(window.jsc("web/public.js"))}catch(e){}},oZDo:function(e,t,o){"use strict";o.r(t),o.d(t,"showEasyMarketPromoteTooltip",(function(){return l}));var n,i=o("k487"),r=o("12ku"),a=o("lXE5"),c=o("zxIV"),s=o("3oLO");!function(e){e.ONBOARDING="onboarding",e.ONBOARDING_WITH_HIGHLIGHT="onboarding_with_highlight",e.WARNING="warning"}(n||(n={}));var _=function(e,t,o){var n;void 0===o&&(o={threshold:.5});var i=new IntersectionObserver((function(e,o){e.every((function(e){return e.isIntersecting}))&&(t(),o.disconnect())}),o);i.observe(e),null===(n=window.cur.destroy)||void 0===n||n.push((function(){return i.disconnect()}))},u=function(e){return e.replace("{link}",'<a class="MarketPromotionGroupEntrypointTooltip__moreLink" href="/@business-avto-tovari">').replace("{/link}","</a>")},l=function(){var e=document.querySelector("#easy_promote_market_link");if(e){var t=e.dataset.tooltip_text;if(t){var o,l,d=e.dataset.tooltip_type,p=e.closest(".page_block"),b=Boolean(e.closest(".wide_column")),g=e.getAttribute("onclick");switch(d){case n.ONBOARDING_WITH_HIGHLIGHT:var f=new r.default(e,t,{highlight:!0,width:240,offset:[11,-13],shift:-11,border:[0,10,10,10],side:"bottom",align:"right",withCloseButton:!0,onBGClick:function(){f.hideTT(),Object(a.enableBodyScroll)()},onCloseButtonClick:function(){return Object(a.enableBodyScroll)()}});setTimeout((function(){var t=Object(c.getXY)(e)[1];Object(a.scrollToY)(t-100,250),f.showTT(),Object(a.disableBodyScroll)()}),2e3);break;case n.WARNING:var h={act:"help_hints_hide",hint_id:e.dataset.tooltip_id,hash:e.dataset.tooltip_hash},w=b?"right":"bottom",v=b?[0,0]:[0,5],O=e.querySelector(".MarketPromotionGroupEntrypoint"),k=new i.default(O,{content:(o=t,l=g||"",o.replace("{link}",'<a class="MarketPromotionGroupEntrypointTooltip__moreLink" onclick="'+l+'">').replace("{/link}","</a>")),forceSide:w,withCloseButton:!0,appendTo:p,autoShow:!1,noAutoHideOnWindowClick:!0,noHideOnClick:!0,width:250,offset:v,cls:"MarketPromotionGroupEntrypointTooltip feature_intro_tt",onCloseButtonClick:function(){return s.ajax.post("al_index.php",h)}});p&&_(p,(function(){return k.show()}));break;case n.ONBOARDING:var m={act:"help_hints_hide",hint_id:e.dataset.tooltip_id,hash:e.dataset.tooltip_hash},P=new i.default(e,{content:u(t),forceSide:"bottom",align:"right",withCloseButton:!0,appendTo:p,autoShow:!1,noAutoHideOnWindowClick:!0,noHideOnClick:!0,width:250,offset:[0,0],centerShift:-11,cls:"MarketPromotionGroupEntrypointTooltip feature_intro_tt",onCloseButtonClick:function(){return s.ajax.post("al_index.php",m)}});p&&_(p,(function(){return P.show()}))}}}}},vkK6:function(e,t,o){"use strict";o.r(t),o.d(t,"getActionData",(function(){return i}));var n=o("ZD4m"),i=function(e){var t=Object(n.getJsonDataValue)(e,"data-action-params");if("object"==typeof t||null===t)return{actionParams:t}}},xmNA:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Public",(function(){return Public})),__webpack_require__.d(__webpack_exports__,"replaceChars",(function(){return replaceChars}));var _web_lib_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("v+DW"),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("EasH"),_web_lib_lang__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4+be"),_groups_track__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("CQka"),_web_groups_menu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("X3vJ"),_groups_WarningNotification_WarningNotification__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("gVOz"),_web_groups_SimilarGroups__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qJqe"),_web_groups_EasyMarketPromoteTooltip__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("oZDo"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("98sY"),_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("XzvV"),_web_groups_actions_menu__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("FkYl"),Public={toggleFave:function(e,t,o,n){null!=cur.toggleFaveAct&&(o=cur.toggleFaveAct),ajax.post("fave.php",{act:o?"a_add_group":"a_delete_group",gid:-cur.oid,hash:t},{onDone:function(t){val(e,t),cur.toggleFaveAct=!o,toggleClass(e,"on")},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)}),cancelEvent(n)},hideHelpStep:function(e,t,o,n){var i=domClosest("page_block",e);return e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:!0}),i&&slideUp(i,200,re.pbind(i)),ajax.post("/al_public.php",{act:"a_hide_help_step",pid:cur.options.public_id,step:t,hash:o}),n.cancelBubble=!0,cancelEvent(n)},showMapBox:function(e,t,o){if(!window.showZeroZoneBox||!window.showZeroZoneBox("places",(function(){Public.showMapBox()}))){if(!cur.boxForMap){var n={bodyStyle:"padding: 0;",width:597,title:e,onShow:function(){cur.boxMap&&cur.boxMap.redraw()}};cur.boxForMap=Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_1__.showFastBox)(n,'<div class="box_loader"></div>'),cur.boxForMap.setControlsText('<a href="'+o+'">'+Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_2__.getLang)("events_goto_search")+"</a>")}cur.boxMap?cur.boxForMap.show():(cur.boxForMap.content('<div id="boxMap" style="width: 595px; height: 500px"></div>'),cur.boxMap=new window.VkMap(ge("boxMap"),{type:"yandex",key:cur.mapKey,onReady:function(){cur.boxMap.updateAddress({str:e,zoom:t}),cur.boxForMap.setOptions({title:cur.boxMap.getShowAddress()}),cur.boxMap.updateMap()}}))}},showLinks:function(e){showBox("/al_public.php",{act:"a_get_links",pid:cur.options.public_id,type:e},{params:{width:467}}).setOptions({onHideAttempt:function(){return cur.reloadAfterClose&&(nav.reload({noscroll:!0}),cur.reloadAfterClose=!1),!0}})},otherActs:function(e){if(clearTimeout(cur.hideOtherTimer),!e)return!1;e.blur();var t=ge("page_other_acts");return isVisible(t)||(t.style.marginLeft="-1px",t.style.marginTop="-21px",show(t)),!1},hideOther:function(e){if(e>0)cur.hideOtherTimer=setTimeout(cur.hideOther,e);else{var t=ge("page_other_acts");-1==e?hide(t):fadeOut(t,200)}},updateBlock:function(e,t){(e=ge(e))&&t&&domPN(e).replaceChild(se(t),e)},unSubscribe:function unSubscribe(el){var sp,hp;if(el=ge(el),el&&("button"==el.tagName.toLowerCase()||hasClass(el,"flat_button")))sp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_0__.lockButton.pbind(el),hp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_0__.unlockButton.pbind(el);else if(el&&window.Page){if(Page.actionsDropdownLocked(el))return;sp=Page.actionsDropdownLock.pbind(el),hp=Page.actionsDropdownUnlock.pbind(el),hasClass(el,"page_actions_btn")&&Page.actionsDropdownHide(domPS(el),1)}return ajax.post("al_public.php",{act:"a_leave",pid:cur.options.public_id,hash:cur.options.enterHash},{onDone:function onDone(status,actions,followers,js){Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.tryLogOutOfSerpClick)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.outOfSerpGroup,cur.oid,_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.clickTypeLeaveGroupOut),val("page_actions",status);var actionsEl=geByClass1("_page_actions_container");if(actionsEl&&actions&&(domPN(actionsEl).replaceChild(se(actions),actionsEl),SimilarGroups.initMenuItem()),Public.updateBlock("public_followers",followers),js)try{eval(js)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,js)}},showProgress:sp,hideProgress:hp}),!1},subscribe:function subscribe(el){var sp,hp;if(el=ge(el),el&&"button"==el.tagName.toLowerCase())sp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_0__.lockButton.pbind(el),hp=_web_lib_ui__WEBPACK_IMPORTED_MODULE_0__.unlockButton.pbind(el);else if(el){if(el.firstChild&&"progress"==el.firstChild.className)return;sp=function(){el.oldhtml=el.innerHTML,el.innerHTML='<span class="progress" style="display: block"></span>'},hp=function(){el.innerHTML=el.oldhtml},window.Page&&hasClass(el,"page_actions_btn")&&Page.actionsDropdownHide(domPS(el),1)}var query={act:"a_enter",pid:cur.options.public_id,hash:cur.options.enterHash},trackcode=domData(el,"trackcode");return trackcode&&(query.trackcode=trackcode),ajax.post("al_public.php",query,{onDone:function onDone(status,actions,followers,js,params){Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.tryLogOutOfSerpClick)(_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.outOfSerpGroup,cur.oid,_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.clickTypeJoinGroupOut),val("page_actions",status);var actionsEl=geByClass1("_page_actions_container"),isAppWideScreenPage=!!document.querySelector(".WideScreenAppPage");if(actionsEl&&actions&&!isAppWideScreenPage&&(domPN(actionsEl).replaceChild(se(actions),actionsEl),SimilarGroups.initMenuItem()),Public.updateBlock("public_followers",followers),js)try{eval(js)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,js)}void 0!==params.hidden_similar_group||isVisible(SimilarGroups.block)||isAppWideScreenPage||SimilarGroups.show(_web_groups_SimilarGroups__WEBPACK_IMPORTED_MODULE_6__.OPEN_BLOCK_MODE_SUBSCRIBE)},onFail:function(e){if(e)return Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_1__.showFastBox)({title:Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_2__.getLang)("global_error"),onHide:nav.reload,bodyStyle:"padding: 20px; line-height: 160%;"},e),!0},showProgress:sp,hideProgress:hp}),!1},searchApp:function(e,t){e!=cur.lastLink&&ajax.post("al_public.php",{act:"a_search_app",pid:cur.options.public_id,page:e},{onDone:function(e,o,n,i,r,a){if(e)return ge("public_app_error_msg").innerHTML=e,void(cur.appId=!1);cur.appHash=r,cur.appId=o,ge("public_app_error_msg").innerHTML="",ge("public_app_image").innerHTML=n,ge("public_app_info").innerHTML=i,void 0!==a&&(ge("public_app_address").value=a),t&&t(e)}})},rssImport:function(){var e=showBox("al_public.php",{act:"set_rss_import_box",pid:cur.oid},{params:{width:410}});e.removeButtons(),e.addButton(Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_2__.getLang)("global_cancel"),e.hide,"no"),e.addButton(Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_2__.getLang)("global_save"),(function(){ajax.post("al_public.php",{act:"a_set_rss_import",pid:cur.oid,url:ge("rss_import_url").value,hash:ge("rss_import_hash").value},{onDone:function(e){ge("public_import_rss_tag").innerHTML=e}}),e.hide()}),"yes")},init:function(e){extend(cur,{oid:-e.public_id,module:"public",options:e,postTo:-e.public_id,mid:-e.public_id,editing:!1,hideOther:Public.hideOther,otherActs:Public.otherActs,otherCount:e.otherCount,_back:{show:[],hide:[],text:e.back}}),SimilarGroups.delRefFromUrl(),cur.nav.push(e=>Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.removeOutOfSerpClickLogging)(e,_web_lib_stats__WEBPACK_IMPORTED_MODULE_9__.outOfSerpGroup,cur.oid)),ge("public_wall")&&wall.init(extend(e,{automore:1})),e.age_disclaimer&&Groups&&Groups.showDisclaimer(e,"public"),e.enableLinkTracking&&Object(_groups_track__WEBPACK_IMPORTED_MODULE_3__.initGroupLinksTracking)(),e.gwn&&!Array.isArray(e.gwn)&&Object(_groups_WarningNotification_WarningNotification__WEBPACK_IMPORTED_MODULE_5__.default)(e.gwn),Object(_web_groups_menu__WEBPACK_IMPORTED_MODULE_4__.initGroupsMenu)(e.public_id),Object(_web_groups_EasyMarketPromoteTooltip__WEBPACK_IMPORTED_MODULE_7__.showEasyMarketPromoteTooltip)(),Object(_web_groups_actions_menu__WEBPACK_IMPORTED_MODULE_10__.initPageActionsMenu)()},toggleTop:function(e,t,o,n,i){ajax.post("al_groups.php",{act:"a_toggle_top",gid:t,hash:o,nocis:i},{onDone:function(t){e.innerHTML=t},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},toggleStickers:function(e,t,o,n){ajax.post("al_groups.php",{act:"a_toggle_stickers",gid:t,hash:o},{onDone:function(t){e.innerHTML=t},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},uploadPhotos:function(e,t){if(!t)return nav.go(e,t);if(checkEvent(t))return!0;cur.onPhotoInputChange=function(o){return window.filesToUpload=o,nav.go(e,t)};var o=ge("page_upload_photos_input");return o||(o=se('<input id="page_upload_photos_input" class="file page_upload_photos_input" type="file" onchange="cur.onPhotoInputChange(this.files);"\n            multiple="true" accept="image/jpeg,image/png,image/gif" name="photo" />')),o.click(t),!1}},replaceChars=function(e,t){for(var o="",n=0;n<e.length;n++){var i=e.charCodeAt(n);switch(i){case 38:o+="&amp;";break;case 60:o+="&lt;";break;case 62:o+="&gt;";break;case 34:o+="&quot;";break;case 13:o+="";break;case 10:o+=t?"\t":"<br>";break;case 33:o+="&#33;";break;case 39:o+="&#39;";break;default:o+=i>128&&i<192||i>1280?"&#"+i+";":e.charAt(n)}}return o}}});